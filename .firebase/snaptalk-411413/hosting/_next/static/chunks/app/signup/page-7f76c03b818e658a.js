(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{9078:function(e,t,s){Promise.resolve().then(s.bind(s,9412))},9412:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(7437),a=s(2265),o=s(8460),r=s.n(o),l=s(4033);function c(){let[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(""),[c,i]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[m,d]=(0,a.useState)({}),f=(0,l.useRouter)();async function _(t){t.preventDefault();try{let t=await fetch("https://snap-talk.adaptable.app/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s,confirmPassword:c,email:p})});if(t.ok){let e=await t.json();localStorage.setItem("token",e.token),f.push("/")}if(400===t.status){let e=await t.json();d(e.errors)}}catch(e){console.log(e)}}return(0,a.useEffect)(()=>{localStorage.getItem("token")&&(async()=>{try{let e=await fetch("https://snap-talk.adaptable.app/verifyToken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("token")})});if(401===e.status){let t=await e.json();console.log(t.error),f.push("/login")}200===e.status&&f.push("/")}catch(e){console.log(e)}})()},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("form",{className:r().form,children:[(0,n.jsx)("div",{className:"self-center text-xl font-semibold",children:"Create a SnapTalk account"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{required:!0,placeholder:"",type:"text",className:r().input,onChange:e=>t(e.target.value)}),(0,n.jsx)("span",{children:"username"})]}),m.username&&(0,n.jsx)("div",{className:"text-sm text-[#818181]",children:m.username}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{required:!0,placeholder:"",type:"email",className:r().input,onChange:e=>u(e.target.value)}),(0,n.jsx)("span",{children:"email"})]}),m.email&&(0,n.jsx)("div",{className:"text-sm text-[#818181]",children:m.email}),(0,n.jsxs)("div",{className:r().flex,children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{required:!0,placeholder:"",type:"password",className:r().input,onChange:e=>o(e.target.value)}),(0,n.jsx)("span",{children:"password"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{required:!0,placeholder:"",type:"password",className:r().input,onChange:e=>i(e.target.value)}),(0,n.jsx)("span",{children:"confirm password"})]})]}),m.password?(0,n.jsx)("div",{className:"text-sm text-[#818181]",children:m.password}):m.confirmPassword?(0,n.jsx)("div",{className:"text-sm text-[#818181]",children:m.confirmPassword}):"",(0,n.jsxs)("button",{className:r().fancy,onClick:e=>_(e),children:[(0,n.jsx)("span",{className:r()["top-key"]}),(0,n.jsx)("span",{className:r().text,children:"sign up"}),(0,n.jsx)("span",{className:r()["bottom-key-1"]}),(0,n.jsx)("span",{className:r()["bottom-key-2"]})]}),(0,n.jsxs)("div",{className:"self-center text-sm",children:["Already have an account?"," ",(0,n.jsx)("a",{href:"/login",className:"underline",children:"Log in"})]})]})})}},8460:function(e){e.exports={form:"components_form__3qN9n",message:"components_message__GHJrm",flex:"components_flex__ka1su",input:"components_input__4qcDk",input01:"components_input01__SkCds",fancy:"components_fancy__0NMLI",fancy2:"components_fancy2__iMr_f",text:"components_text__hh6Ly","top-key":"components_top-key__PvoL6","bottom-key-1":"components_bottom-key-1__EXuIY","bottom-key-2":"components_bottom-key-2__e2VCu"}},622:function(e,t,s){"use strict";var n=s(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,s){var n,o={},i=null,p=null;for(n in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(p=t.ref),t)r.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:i,ref:p,props:o,_owner:l.current}}t.Fragment=o,t.jsx=i,t.jsxs=i},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=9078)}),_N_E=e.O()}]);